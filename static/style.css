:root{
  --accent: #D52C38;
  --border: 3px;

  /* Figma sizes */
  --bar-w: 104px;
  --bar-h: 390px;
  --bar-gap: 17px;

  /* inner line alpha */
  --line-alpha: 0.22;
}

html, body{
  height: 100%;
}

body{
  margin: 0;
  background: #fff;
  color: var(--accent);
  font-family: Arial, Helvetica, sans-serif;

  display: grid;
  place-items: center;
}

/* wrapper to keep the block crisp and centered */
#mixer-wrap{
  display: flex;
  align-items: center;
  gap: 24px; /* מקום לסרגל הימני */
}

/* שורת הסליידרים עם מרווח 17px בדיוק */
.mixer-row{
  display: flex;
  gap: var(--bar-gap);
}

/* סליידר – קצוות מרובעים, גבול 3px, גודל פיגמה */
.v-slider{
  position: relative;
  width: var(--bar-w);
  height: var(--bar-h);
  box-sizing: border-box;
  border: var(--border) solid var(--accent);
  border-radius: 0;          /* חשוב: מרובע */
  overflow: hidden;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  cursor: pointer;

  /* 4 קווי פנים בגבהים של 20%, 40%, 60%, 80% */
  background-image:
    linear-gradient(to top, rgba(213,44,56,var(--line-alpha)) 1px, transparent 1px),
    linear-gradient(to top, rgba(213,44,56,var(--line-alpha)) 1px, transparent 1px),
    linear-gradient(to top, rgba(213,44,56,var(--line-alpha)) 1px, transparent 1px),
    linear-gradient(to top, rgba(213,44,56,var(--line-alpha)) 1px, transparent 1px);
  background-size:
    100% 20%,
    100% 20%,
    100% 20%,
    100% 20%;
  background-position:
    bottom 20% left,
    bottom 40% left,
    bottom 60% left,
    bottom 80% left;
  background-repeat: no-repeat;
}

/* המילוי האדום – נשלט ע״י JS */
.slider-fill{
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 0%;
  background: var(--accent);
}

/* קלט שקוף (אם נמצא ב-HTML) */
.v-slider .vol-input{
  position: absolute;
  inset: 0;
  opacity: 0;
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
  padding: 0;
}

/* סרגל ימין – 4 שנתות בגבהים 20/40/60/80% */
.ruler{
  position: relative;
  width: 52px;               /* רוחב נוח לשנתות */
  height: var(--bar-h);
  box-sizing: border-box;
  /* נשווה את תחום העבודה לקווי הפנים בתוך העמודה:
     נוריד/נעלה חצי עובי גבול כדי לקבע בדיוק מול הקו הפנימי */
  padding-top: var(--border);
  padding-bottom: var(--border);

  display: grid;
  grid-template-rows: repeat(5, 1fr);  /* 5 אזורי 20% */
}

.ruler span{
  justify-self: end;
  width: 48px;
  height: 6px;
  background: var(--accent);
  border-radius: 3px;
}

/* למקם את 4 השנתות בדיוק על הגבולות בין השורות (20/40/60/80) */
.ruler span:nth-child(1){ grid-row: 1; align-self: end; }  /* 20% */
.ruler span:nth-child(2){ grid-row: 2; align-self: end; }  /* 40% */
.ruler span:nth-child(3){ grid-row: 3; align-self: end; }  /* 60% */
.ruler span:nth-child(4){ grid-row: 4; align-self: end; }  /* 80% */

/* התאמה למסכי iPhone 12 (390×844) – אם חסר רוחב, נקטין סקייל עדין */
@media (max-width: 430px){
  #mixer-wrap{
    transform-origin: center;
    /* חישוב סקייל קל: ברירת המחדל משוערת, תוכל לכוונן ל-0.92/0.95 לפי הצורך */
    transform: scale(0.95);
  }
}

/* לנדסקייפ – נצמצם מעט כדי להישאר במרכז */
@media (orientation: landscape) and (max-height: 420px){
  #mixer-wrap{
    transform-origin: center;
    transform: scale(0.92);
  }
}